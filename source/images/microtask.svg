<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="966" height="753" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Created with Raphaël 2.1.2开始执行主线程执行栈microtasks是否清空？macrotasks是否清空？继续循环检测任务队列提取一个任务到执行栈提取一个任务到执行栈yesnoyesno]]></source><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block-obj5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><marker id="raphael-marker-endblock33-obj6" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block-obj5" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="0" y="0" width="82" height="37" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="st" transform="matrix(1,0,0,1,99.5,53.75)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="stt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,99.5,53.75)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">开始执行</tspan></text><rect x="0" y="0" width="111" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="js" transform="matrix(1,0,0,1,85,194.5)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="jst" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,85,194.5)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">主线程执行栈</tspan></text><path fill="#ffffff" stroke="#000000" d="M66.375,33.1875L0,66.375L132.75,132.75L265.5,66.375L132.75,0L0,66.375" stroke-width="2" id="emis" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,7.75,287.375)"></path><text x="71.375" y="66.375" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="emist" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,7.75,287.375)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">microtasks是否清空？</tspan></text><path fill="#ffffff" stroke="#000000" d="M68.25,34.125L0,68.25L136.5,136.5L273,68.25L136.5,0L0,68.25" stroke-width="2" id="emas" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,4,474.125)"></path><text x="73.25" y="68.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="emast" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,4,474.125)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">macrotasks是否清空？</tspan></text><rect x="0" y="0" width="171" height="37" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="end" transform="matrix(1,0,0,1,55,714.375)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="endt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,55,714.375)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">继续循环检测任务队列</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></tspan></text><rect x="0" y="0" width="172" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="mas" transform="matrix(1,0,0,1,381.5,523.875)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="mast" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,381.5,523.875)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">提取一个任务到执行栈</tspan></text><rect x="0" y="0" width="172" height="37" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="mis" transform="matrix(1,0,0,1,603.5,335.25)"></rect><text x="10" y="18.5" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="mist" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,603.5,335.25)" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">提取一个任务到执行栈</tspan></text><path fill="none" stroke="#000000" d="M140.5,90.75C140.5,90.75,140.5,174.49595642089844,140.5,191.50685381889343" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M140.5,231.5C140.5,231.5,140.5,272.7651062011719,140.5,284.37091732025146" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M140.5,420.125C140.5,420.125,140.5,459.77909994125366,140.5,471.12543908460066" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="145.5" y="430.125" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">yes</tspan></text><path fill="none" stroke="#000000" d="M273.25,353.75C273.25,353.75,567.4526835083961,353.75,600.493023941468,353.75" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="278.25" y="343.75" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">no</tspan></text><path fill="none" stroke="#000000" d="M140.5,610.625C140.5,610.625,140.5,694.3709564208984,140.5,711.3818538188934" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="145.5" y="620.625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">yes</tspan></text><path fill="none" stroke="#000000" d="M277,542.375C277,542.375,361.39719823002815,542.375,378.49916955105437,542.375" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="282" y="532.375" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">no</tspan></text><path fill="none" stroke="#000000" d="M467.5,560.875C467.5,560.875,467.5,585.875,467.5,585.875C467.5,585.875,631,585.875,631,585.875C631,585.875,631,169.5,631,169.5C631,169.5,140.5,169.5,140.5,169.5C140.5,169.5,140.5,184.87344455718994,140.5,191.50924777425826" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M689.5,372.25C689.5,372.25,689.5,397.25,689.5,397.25C689.5,397.25,964,397.25,964,397.25C964,397.25,964,169.5,964,169.5C964,169.5,140.5,169.5,140.5,169.5C140.5,169.5,140.5,184.87344455718994,140.5,191.50924777425826" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>